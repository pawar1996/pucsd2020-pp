<!--p>user-search works!</p-->

<body class="">
    <div class="wrapper ">
      <div class="sidebar" data-color="purple" data-background-color="white" >
       
        <div class="logo"><a  class="simple-text logo-normal">
          Access - Control - List
          </a></div>
        <div class="sidebar-wrapper">
          <ul class="nav">
            <li class="nav-item  ">
              <a class="nav-link" href="/home">
                <i class="material-icons">dashboard</i>
                <p>dashboard</p>
              </a>
            </li>
            <li class="nav-item active ">
              <a class="nav-link" href="/search-user">
                <i class="material-icons">find_in_page</i>
                <p> search user info</p>
              </a>
            </li>
            <li class="nav-item ">
              <a class="nav-link" href="/new-file">
                <i class="material-icons">create_new_folder</i>
                <p>new file</p>
              </a>
            </li>
            <li class="nav-item  ">
              <a class="nav-link" href="/new-group">
                <i class="material-icons">group_add</i>
                <p>new group</p>
              </a>
            </li>
            
           
          </ul>
        </div>
      </div>
      <div class="main-panel">
        <!-- Navbar -->
        <nav class="navbar navbar-expand-lg navbar-transparent navbar-absolute fixed-top ">
          <div class="container-fluid">
            <div class="navbar-wrapper">
              <a class="navbar-brand"><b><u>User's accessed data</u></b></a>
            </div>
            
            <div class="collapse navbar-collapse justify-content-end">
              
                <!--a href="javascript:;" class="btn btn-warning btn-round pull-right" (click)="goToPage('login')">
                  <i class="material-icons">logout</i> logout</a-->
                  <form class="navbar-form">
                    <div class="input-group no-border">
                      <ul class="navbar-nav">
                    <li class="nav-item dropdown">
                      <a class="nav-link" href="javascript:;" id="navbarDropdownProfile" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <i class="material-icons">person</i>
                        <p class="d-lg-none d-md-block">
                          Account
                        </p>
                      </a>
                      <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownProfile">
                        <a class="dropdown-item button-container" href="#"><mat-icon>person</mat-icon> Profile</a>
                        <a class="dropdown-item button-container" href="#"><mat-icon>settings</mat-icon> Settings</a>
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item button-container" href="#" (click)="goToPage('login')"><mat-icon>logout</mat-icon> Log out</a>
                      </div>
                    </li>
                  </ul>
                    </div>
                  </form>
            </div>
          </div>
        </nav>
        <!-- End Navbar -->
        <div class="content">
          <div class="container-fluid">
            <a style="color:rgb(255, 0, 149);">
            <h2>hello!! {{item?.first_name}} {{item?.last_name}}</h2></a>
            <div class="row">
             
              <div class="col-lg-12 col-md-12">
                <div class="card">
                  <div class="card-header card-header-info">
                    <p class="card-category">Select User Id to get it's accessed data</p><hr>
                    
                    <h4 >
                    <form id="searchuser" name="searchuser" #serachuser="ngForm" >
                    <div class="row">
                        <div class = "col">
                          <input type="text" class="form-control" placeholder="User id" (keyup)=id($event)>
                        </div>
                        <div class = "col">
                            <button type="submit" class="btn btn-info " (click)="get_info()">search</button>
                             
                        </div>
                      </div>
                      </form>
                    </h4>
                </div>
                  <div class="card-body">
                    
                    <div class="row">

                        <div class="col-md-12" >
                            <table class="table table-hover" *ngIf="user_info">
                                <thead class="text-info" >
                                  <th>Resource ID</th>
                                  <th>Resource name</th>
                                  <th>Resource type</th>
                                  <th>path</th>
                                  <th>permission</th>
                                  <th></th>
                                </thead>
                                <tbody *ngFor= "let res of resources">
                                  <tr>
                                    <td>{{res.rid}}</td>
                                    <td>{{res.rname}} </td>
                                    <td>{{res.rtype}}</td>
                                    <td>{{res.rpath}}</td>
                                    <td>{{res.rpermission}}</td>
                                    <td>
                                     
                                        <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#myModal" (click)="dialog(res)">
                                          <mat-icon>touch_app</mat-icon>
                                         </button>
                                         
                                      <!--button id="see_per"  class="btn btn-round btn-primary ">

                                      <mat-icon>touch_app</mat-icon></button-->
                                    </td>
                                  </tr>
                                  
                                  
                              </table>
                                                                                  
                        </div>
                
                    </div> 

                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <form id="permission" name="permission" #permission="ngForm" (ngSubmit)="post(permission.value)">
          <!-- The Modal -->
          <div class="modal" id="myModal">
            <div class="modal-dialog">
              <div class="modal-content">
          
                <!-- Modal Header -->
                <div class="modal-header">
                  <h2 class="modal-title" style="color:rgb(255, 0, 149);">change permission</h2>
                  <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>
          
                <!-- Modal body -->
                <div class="modal-body">
                  <ins><a style="color:blue;">Choose permission</a></ins>
                                <div class="form-group">
                                    
                                      <label class="form-check-inline">
                                          <!--input class="form-check-input" type="radio" name="ftype" [value]="true" --> 
                                          <input type="radio" name="rtype" value="r" ngModel>

                                          <a style="color:rgb(41, 41, 49);">Read</a>
                                      </label><br>
                                      <label class="form-check-inline">
                                            <!--input class="form-check-input" type="radio" name="ftype" [value]="false" -->
                                            <input type="radio" name="rtype" value="r/w" ngModel>

                                            <a style="color:rgb(41, 41, 49)">Read/Write</a>
                                      </label>
                                      
                                     
                                    </div>

      <!--p><a style="color:rgb(255, 0, 149);">resorce id:</a>{{data?.rid}}</p>
      <p><a style="color:rgb(255, 0, 149);">resorce name:</a>{{data?.rname}} </p>
      <p><a style="color:rgb(255, 0, 149);">resorce type:</a>{{data?.rtype}}</p>
      <p><a style="color:rgb(255, 0, 149);">resorce path:</a>{{data?.rpath}}</p>
      <p><a style="color:rgb(255, 0, 149);">permission :</a>{{data?.rpermission}}</p-->
                </div>
          
                <!-- Modal footer -->
                <div class="modal-footer">
                  <!--button type="button" class="btn btn-round btn-primary" data-dismiss="modal">cancel</button-->
                  <button type="submit" class="btn btn-round btn-primary pull-left" >change</button>
                </div>
          
              </div>
            </div>
          </div>

        </form>